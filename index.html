<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î ‚Äì ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ ‚Ä¢ ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå ‚Ä¢ ‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢ | ‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 200 ‡∏ß‡∏¥</title>
<style>
  :root{
    --bg:#f7fbff; --card:#ffffff; --ink:#0f172a; --brand:#2563eb;
    --good:#16a34a; --bad:#dc2626; --muted:#64748b;
    --ring:0 8px 30px rgba(37,99,235,.15);
    --btn:#f1f5f9; --btnBorder:#e5e7eb; --btnActive:#dbeafe;
    --timer:#0ea5e9; --timerDanger:#ef4444;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);
    font-family:"Noto Sans Thai",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
  .wrap{max-width:1040px;margin:0 auto;padding:24px}
  .card{background:var(--card);border-radius:20px;box-shadow:var(--ring);padding:20px}
  h1{margin:8px 0 4px;font-size:clamp(22px,3.6vw,34px)}
  .brand{font-weight:800;color:var(--brand)}
  .badge{display:inline-block;padding:6px 12px;border-radius:999px;background:#eef2ff;color:#3730a3;font-weight:700;font-size:14px}
  .sub{color:var(--muted)}
  .start{display:grid;gap:16px;max-width:560px;margin:12px auto}
  input[type="text"]{width:100%;padding:14px 16px;border-radius:14px;border:1px solid #e5e7eb;font-size:18px;outline:none}
  input[type="text"]:focus{border-color:var(--brand);box-shadow:0 0 0 4px rgba(37,99,235,.15)}
  button{appearance:none;border:0;background:var(--brand);color:#fff;font-weight:700;
    padding:14px 18px;border-radius:14px;cursor:pointer;font-size:18px;box-shadow:var(--ring)}
  button.secondary{background:#0ea5e9}
  button.ghost{background:#e5e7eb;color:#111827}
  .kru{margin-top:18px;font-weight:800;letter-spacing:.3px;color:#111827}
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
  .result{margin-top:16px;padding:12px;border-radius:14px;background:#f1f5f9;display:none}
  .ok{color:var(--good);font-weight:800}
  .ng{color:var(--bad);font-weight:800}
  .tiny{font-size:13px;color:var(--muted)}
  .tick{font-weight:800;margin-left:10px}
  .tick.hidden{visibility:hidden}
  /* Question row */
  .qrow{display:grid;gap:12px;align-items:center;grid-template-columns:1fr minmax(220px,280px);
    background:#f8fafc;border:1px solid #e5e7eb;border-radius:14px;padding:12px}
  @media (max-width:700px){.qrow{grid-template-columns:1fr}}
  .qtext{font-size:16px}
  .opts{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
  .btnopt{display:flex;justify-content:center;align-items:center;gap:6px;
    padding:10px 12px;border-radius:12px;border:1px solid var(--btnBorder);
    background:var(--btn);color:#111827;font-size:15px;cursor:pointer;user-select:none}
  .btnopt.selected{background:var(--btnActive);border-color:#93c5fd}
  .answers{margin-top:10px;display:none}
  .answers .a{padding:8px 10px;border-radius:10px;background:#fff;border:1px dashed #e5e7eb;margin-top:6px}
  .pass{color:#065f46;font-weight:900}
  .fail{color:#b91c1c;font-weight:900}

  /* Timer bar */
  .timerWrap{margin:10px 0 14px}
  .timerBar{height:12px;background:#e2e8f0;border-radius:999px;overflow:hidden}
  .timerFill{height:100%;width:100%;background:var(--timer);transition:width .5s linear}
  .timerRow{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
  .timeText{font-weight:800}

  /* Time-up banner */
  #timeUpBanner{
    display:none;
    position:fixed; inset:0;
    background:rgba(0,0,0,.5);
    z-index:9999;
    align-items:center; justify-content:center;
    padding:20px;
  }
  #timeUpBanner .box{
    background:#fff; border-radius:18px; padding:20px;
    max-width:520px; width:100%;
    box-shadow:0 20px 60px rgba(0,0,0,.25);
    text-align:center;
  }
  #timeUpBanner h3{margin:0 0 8px; font-size:24px; color:#b91c1c}
  #timeUpBanner p{margin:0 0 12px; color:#374151}
</style>
</head>
<body>
  <div class="wrap">
    <div id="screen-start" class="card">
      <div class="badge">Kru Pai Classroom</div>
      <h1>‡πÄ‡∏Å‡∏°‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î <span class="brand">‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ ‚Ä¢ ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå ‚Ä¢ ‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢</span></h1>
      <div class="sub">‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô <b>200 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</b> ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‚Äî ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô <b>16/20</b></div>
      <div class="start">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
        <input id="player" type="text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô..." />
        <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
      </div>
    </div>

    <div id="screen-game" class="card" style="display:none">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div class="badge">Kru Pai Classroom</div>
        <div class="kru" id="who"></div>
      </div>

      <div class="timerWrap">
        <div class="timerRow">
          <div class="timeText">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="timeLeft">03:20</span></div>
          <div class="tiny">‡∏Ñ‡∏£‡∏ö 200 ‡∏ß‡∏¥‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
        </div>
        <div class="timerBar"><div id="timerFill" class="timerFill"></div></div>
      </div>

      <h2 style="margin:10px 0 8px">‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å: ‡∏ñ‡∏π‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î (20 ‡∏Ç‡πâ‡∏≠)</h2>
      <div id="qwrap" class="grid" style="display:grid;gap:12px"></div>

      <div class="actions">
        <button id="checkBtn">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
        <button class="secondary" id="resetBtn">‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
        <button class="ghost" id="backBtn">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
      </div>

      <div id="result" class="result"></div>

      <div class="actions" id="afterActions" style="display:none">
        <button class="secondary" id="toggleAns">‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>
        <button class="ghost" id="againBtn">‡∏ó‡∏≥‡πÉ‡∏´‡∏°‡πà</button>
      </div>

      <div id="answers" class="answers"></div>
    </div>
  </div>

  <!-- Time-up modal -->
  <div id="timeUpBanner">
    <div class="box">
      <h3>‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß!</h3>
      <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÅ‡∏•‡∏∞‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</p>
      <button id="viewResultBtn">‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button>
    </div>
  </div>

<script>
const PASS_THRESHOLD = 16;
const TOTAL_SECONDS = 200;
let secondsLeft = TOTAL_SECONDS;
let timerId = null;

// True/False items
const items = [
  {text:"1) ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏ú‡∏™‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", correct:true, explain:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡πâ‡∏ô"},
  {text:"2) ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏ú‡∏™‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß", correct:false, explain:"‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ú‡∏™‡∏° (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) ‡πÅ‡∏ï‡πà‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"},
  {text:"3) ‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢‡∏°‡∏µ‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢", correct:true, explain:"‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢ > ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå > ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ)"},
  {text:"4) ‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÉ‡∏™ ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢", correct:false, explain:"‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÉ‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)"},
  {text:"5) ‡∏ô‡πâ‡∏≥‡∏ô‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå", correct:true, explain:"‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏µ‡∏°‡∏±‡∏•‡∏ä‡∏±‡∏ô (‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß)"},
  {text:"6) ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏î‡πâ", correct:false, explain:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏Å‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"},
  {text:"7) ‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á", correct:true, explain:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Å‡∏£‡∏≠‡∏á‡∏Å‡∏±‡πâ‡∏ô‡πÑ‡∏î‡πâ"},
  {text:"8) ‡πÅ‡∏õ‡πâ‡∏á‡∏ú‡∏™‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå", correct:true, explain:"‡πÄ‡∏õ‡πá‡∏ô sol/‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡∏Ç‡∏≠‡∏á‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÅ‡∏õ‡πâ‡∏á‡πÉ‡∏ô‡∏ô‡πâ‡∏≥ (‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô)"},
  {text:"9) ‡∏´‡∏°‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå", correct:true, explain:"‡∏´‡∏°‡∏≠‡∏Å = ‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡πÉ‡∏ô‡πÅ‡∏Å‡πä‡∏™, ‡∏Ñ‡∏ß‡∏±‡∏ô = ‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏ô‡πÅ‡∏Å‡πä‡∏™"},
  {text:"10) ‡∏ô‡πâ‡∏≥‡πÇ‡∏Ñ‡∏•‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢", correct:true, explain:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏î‡∏¥‡∏ô/‡πÇ‡∏Ñ‡∏•‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏•‡∏∞‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡πÑ‡∏î‡πâ"},
  {text:"11) ‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÄ‡∏à‡∏¥‡∏á‡πÅ‡∏™‡∏á‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢", correct:true, explain:"‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏•‡∏≥‡πÅ‡∏™‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô"},
  {text:"12) ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡∏≤‡∏£‡∏ì‡πå Tyndall (‡∏Å‡∏£‡∏∞‡πÄ‡∏à‡∏¥‡∏á‡πÅ‡∏™‡∏á)", correct:true, explain:"‡∏•‡∏≥‡πÅ‡∏™‡∏á‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå"},
  {text:"13) ‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢‡∏°‡∏µ‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏ó‡∏µ‡πà‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ", correct:true, explain:"‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"},
  {text:"14) ‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÉ‡∏™‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå", correct:false, explain:"‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÉ‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {text:"15) ‡πÄ‡∏à‡∏•‡∏≤‡∏ï‡∏¥‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå", correct:true, explain:"‡πÄ‡∏õ‡πá‡∏ô sol/gel ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {text:"16) ‡∏ô‡πâ‡∏≥‡∏´‡∏°‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢", correct:true, explain:"‡∏´‡∏°‡∏∂‡∏Å‡∏™‡∏µ‡∏¢‡πâ‡∏≠‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏™‡∏µ‡∏¢‡πâ‡∏≠‡∏° (‡∏ö‡∏≤‡∏á‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå/‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢)"},
  {text:"17) ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢", correct:true, explain:"‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏ú‡∏™‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏Å‡πä‡∏≤‡∏ã‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏ô‡∏¥‡∏î (‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏Å‡πä‡∏≤‡∏ã)"},
  {text:"18) ‡∏ô‡πâ‡∏≥‡∏ó‡∏∞‡πÄ‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢", correct:false, explain:"‡πÇ‡∏î‡∏¢‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢ (‡∏°‡∏µ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏•‡∏∞‡∏•‡∏≤‡∏¢), ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå/‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢‡∏õ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢"},
  {text:"19) ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô‡πÅ‡∏¢‡∏Å‡∏™‡∏≤‡∏£ (centrifuge) ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÅ‡∏¢‡∏Å‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡∏ö‡∏≤‡∏á‡∏ä‡∏ô‡∏¥‡∏î‡πÑ‡∏î‡πâ", correct:true, explain:"‡∏≠‡∏±‡∏•‡∏ï‡∏£‡∏≤‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡∏£‡∏¥‡∏ü‡∏¥‡∏ß‡∏à‡πå‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡πÑ‡∏î‡πâ"},
  {text:"20) ‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢‡∏°‡∏µ‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô", correct:false, explain:"‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"}
];

const $ = s=>document.querySelector(s);
const qwrap = $('#qwrap');
const resultEl = $('#result');
const answersEl = $('#answers');
const timeLeftEl = $('#timeLeft');
const timerFillEl = $('#timerFill');
const banner = document.getElementById('timeUpBanner');
const viewResultBtn = document.getElementById('viewResultBtn');

/* Render questions */
items.forEach((it, idx)=>{
  const i = idx+1;
  const row = document.createElement('div');
  row.className = 'qrow';
  row.dataset.index = i;
  row.innerHTML = `
    <div class="qtext">${it.text} <span id="tick-${i}" class="tick hidden">‚úì</span></div>
    <div class="opts" id="opts-${i}">
      <button type="button" class="btnopt" data-val="true">‚úÖ ‡∏ñ‡∏π‡∏Å</button>
      <button type="button" class="btnopt" data-val="false">‚ùå ‡∏ú‡∏¥‡∏î</button>
    </div>
  `;
  qwrap.appendChild(row);

  // add events
  row.querySelectorAll('.btnopt').forEach(btn=>{
    btn.addEventListener('click', ()=>select(i, btn.dataset.val, btn));
  });
});

/* selections */
const selected = {}; // {index: true/false}
function select(i, val, btn){
  // unselect others
  document.querySelectorAll(`#opts-${i} .btnopt`).forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected');
  selected[i] = (val === 'true');
}

/* Timer helpers */
function fmt(sec){
  const m = Math.floor(sec/60).toString().padStart(1,'0');
  const s = Math.floor(sec%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}
function updateTimerUI(){
  timeLeftEl.textContent = fmt(secondsLeft);
  const pct = Math.max(0, (secondsLeft / TOTAL_SECONDS) * 100);
  timerFillEl.style.width = pct + '%';
  if(secondsLeft <= 20){ timerFillEl.style.background = 'var(--timerDanger)'; }
}

/* buttons */
document.getElementById('startBtn').addEventListener('click', ()=>{
  const name = document.getElementById('player').value.trim() || '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô';
  document.getElementById('who').textContent = `‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: ${name}`;
  document.getElementById('screen-start').style.display='none';
  document.getElementById('screen-game').style.display='block';
  window.scrollTo({top:0, behavior:'smooth'});
  // start timer
  secondsLeft = TOTAL_SECONDS;
  updateTimerUI();
  timerId = setInterval(()=>{
    secondsLeft--;
    updateTimerUI();
    if(secondsLeft <= 0){
      clearInterval(timerId);
      autoSubmit();
    }
  }, 1000);
});

document.getElementById('backBtn').addEventListener('click', ()=>location.reload());

document.getElementById('resetBtn').addEventListener('click', ()=>{
  Object.keys(selected).forEach(k=>delete selected[k]);
  document.querySelectorAll('.btnopt').forEach(b=>b.classList.remove('selected'));
  document.querySelectorAll('.tick').forEach(t=>{ t.classList.add('hidden'); t.textContent='‚úì'; t.style.color='inherit'; });
  resultEl.style.display='none';
  document.getElementById('afterActions').style.display='none';
  answersEl.style.display='none';
  // reset timer
  if(timerId) clearInterval(timerId);
  secondsLeft = TOTAL_SECONDS;
  updateTimerUI();
  timerId = setInterval(()=>{
    secondsLeft--;
    updateTimerUI();
    if(secondsLeft <= 0){
      clearInterval(timerId);
      autoSubmit();
    }
  }, 1000);
});

document.getElementById('checkBtn').addEventListener('click', ()=>{
  if(timerId){ clearInterval(timerId); }
  gradeNow();
});

viewResultBtn.addEventListener('click', ()=>{
  banner.style.display = 'none';
  document.getElementById('result').scrollIntoView({behavior:'smooth'});
});

function autoSubmit(){
  timeUpUI();
  // disable all option buttons
  document.querySelectorAll('.btnopt').forEach(b=>b.disabled = true);
  gradeNow(true);
}

function timeUpUI(){
  banner.style.display = 'flex';
}

function gradeNow(auto=false){
  let correct = 0;
  const total = items.length;

  for(let i=1;i<=total;i++){
    const t = document.getElementById(`tick-${i}`);
    const ans = selected[i];
    const real = items[i-1].correct;
    if(ans === real){ correct++; t.textContent='‚úì ‡∏ñ‡∏π‡∏Å'; t.style.color='var(--good)'; }
    else{
      if(ans === undefined){ t.textContent= auto ? '‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤' : '‚Äî ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å'; t.style.color='var(--muted)'; }
      else{ t.textContent=`‚úó ‡∏ú‡∏¥‡∏î (‡∏ñ‡∏π‡∏Å: ${real?"‡∏ñ‡∏π‡∏Å":"‡∏ú‡∏¥‡∏î"})`; t.style.color='var(--bad)'; }
    }
    t.classList.remove('hidden');
  }

  const pass = correct >= 16;
  resultEl.style.display='block';
  resultEl.innerHTML = `
    <div style="font-weight:800;font-size:20px">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:
      <span class="${correct===total?'ok':'ng'}">${correct} / ${total}</span>
      ‚Äî <span class="${pass?'pass':'fail'}">${pass ? '‡∏ú‡πà‡∏≤‡∏ô üéâ' : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‚è∞'}</span>
    </div>
    <div class="tiny">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ú‡πà‡∏≤‡∏ô: 16/${total} ‚Ä¢ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ${TOTAL_SECONDS} ‡∏ß‡∏¥ ‚Ä¢ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${secondsLeft < 0 ? 0 : secondsLeft} ‡∏ß‡∏¥</div>
  `;

  document.getElementById('afterActions').style.display='flex';

  // answers list
  answersEl.innerHTML = `<h3 style="margin:6px 0 8px">‡πÄ‡∏â‡∏•‡∏¢‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</h3>` +
    items.map((it, idx)=>`<div class="a">‡∏Ç‡πâ‡∏≠ ${idx+1}: ${it.correct ? "‡∏ñ‡∏π‡∏Å" : "‡∏ú‡∏¥‡∏î"} ‚Äî ${it.explain}</div>`).join('');
}
</script>
</body>
</html>
